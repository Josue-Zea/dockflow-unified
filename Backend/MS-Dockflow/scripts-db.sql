CREATE KEYSPACE IF NOT EXISTS evisor
WITH replication = {'class': 'SimpleStrategy', 'replication_factor': 1};

CREATE TABLE IF NOT EXISTS evisor.Estante (
    Id UUID PRIMARY KEY,
    Nombre TEXT,
    EjeX INT,
    EjeY INT,
    EjeZ INT,
    Alto INT,
    Ancho INT,
);

CREATE TABLE IF NOT EXISTS evisor.Caja (
    Id UUID PRIMARY KEY,
    IDEstante UUID,
    Nombre TEXT,
    Expedientes LIST<UUID>
);

CREATE TABLE IF NOT EXISTS evisor.LogsDockflow (
    Id UUID PRIMARY KEY,
    Fecha TIMESTAMP,
    IDUsuario UUID,
    Operacion TEXT,
    Descripcion TEXT
);

-- INSERTS
INSERT INTO evisor.Estante (Id, Nombre, EjeX, EjeY, EjeZ)
VALUES (00000000-0000-0000-0000-000000000001, 'Estante 1', 1, 1, 1);

INSERT INTO evisor.Estante (Id, Nombre, EjeX, EjeY, EjeZ)
VALUES (00000000-0000-0000-0000-000000000002, 'Estante 2', 2, 2, 1);

INSERT INTO evisor.Estante (Id, Nombre, EjeX, EjeY, EjeZ)
VALUES (00000000-0000-0000-0000-000000000003, 'Estante 3', 3, 3, 2);

INSERT INTO evisor.Caja (Id, IDEstante, Nombre, Expedientes)
VALUES (
    00000000-0000-0000-0000-000000000001, 
    00000000-0000-0000-0000-000000000001, 
    'Caja 1', 
    [00000000-0000-0000-0000-000000000001, 00000000-0000-0000-0000-000000000002]
);

INSERT INTO evisor.Caja (Id, IDEstante, Nombre, Expedientes)
VALUES (
    00000000-0000-0000-0000-000000000002, 
    00000000-0000-0000-0000-000000000001, 
    'Caja 2', 
    [00000000-0000-0000-0000-000000000003, 00000000-0000-0000-0000-000000000004]
);

INSERT INTO evisor.Caja (Id, IDEstante, Nombre, Expedientes)
VALUES (
    00000000-0000-0000-0000-000000000003, 
    00000000-0000-0000-0000-000000000002, 
    'Caja 3', 
    [00000000-0000-0000-0000-000000000005, 00000000-0000-0000-0000-000000000006]
);

INSERT INTO evisor.Caja (Id, IDEstante, Nombre, Expedientes)
VALUES (
    00000000-0000-0000-0000-000000000004, 
    00000000-0000-0000-0000-000000000002, 
    'Caja 4', 
    [00000000-0000-0000-0000-000000000007, 00000000-0000-0000-0000-000000000008]
);

INSERT INTO evisor.Caja (Id, IDEstante, Nombre, Expedientes)
VALUES (
    00000000-0000-0000-0000-000000000005, 
    00000000-0000-0000-0000-000000000003, 
    'Caja 5', 
    [00000000-0000-0000-0000-000000000009, 00000000-0000-0000-0000-000000000010]
);
